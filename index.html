<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Budget Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="app.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Home Budget Calculator</h1>
            <div class="header-controls">
                <select id="monthSelector" class="selector">
                    <option value="0">January</option>
                    <option value="1">February</option>
                    <option value="2">March</option>
                    <option value="3">April</option>
                    <option value="4">May</option>
                    <option value="5">June</option>
                    <option value="6">July</option>
                    <option value="7">August</option>
                    <option value="8">September</option>
                    <option value="9">October</option>
                    <option value="10">November</option>
                    <option value="11">December</option>
                </select>
                <select id="yearSelector" class="selector"></select>
                <button id="themeToggle" class="btn btn-secondary">üåô Dark Mode</button>
                <button id="settingsBtn" class="btn btn-secondary">‚öôÔ∏è Settings</button>
            </div>
        </header>

        <section class="overview-dashboard">
            <div class="metric-card">
                <h3>Total Income</h3>
                <div class="metric-group">
                    <div class="metric-item">
                        <span class="metric-label">Estimated</span>
                        <span class="metric-value" id="overviewIncomeEst">$0.00</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Actual</span>
                        <span class="metric-value" id="overviewIncomeAct">$0.00</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Difference</span>
                        <span class="metric-value" id="overviewIncomeDiff">$0.00</span>
                    </div>
                </div>
            </div>

            <div class="metric-card">
                <h3>Total Expenses</h3>
                <div class="metric-group">
                    <div class="metric-item">
                        <span class="metric-label">Estimated</span>
                        <span class="metric-value" id="overviewExpensesEst">$0.00</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Actual</span>
                        <span class="metric-value" id="overviewExpensesAct">$0.00</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Difference</span>
                        <span class="metric-value" id="overviewExpensesDiff">$0.00</span>
                    </div>
                </div>
            </div>

            <div class="metric-card">
                <h3>Total Savings</h3>
                <div class="metric-group">
                    <div class="metric-item">
                        <span class="metric-label">Estimated</span>
                        <span class="metric-value" id="overviewSavingsEst">$0.00</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Actual</span>
                        <span class="metric-value" id="overviewSavingsAct">$0.00</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Difference</span>
                        <span class="metric-value" id="overviewSavingsDiff">$0.00</span>
                    </div>
                </div>
            </div>

            <div class="metric-card">
                <h3>Savings Rate</h3>
                <div class="metric-group">
                    <div class="metric-item">
                        <span class="metric-label">Estimated</span>
                        <span class="metric-value" id="savingsRateEst">0%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Actual</span>
                        <span class="metric-value" id="savingsRateAct">0%</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Health</span>
                        <span class="badge" id="savingsHealthBadge">Good</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="budget-section">
            <h2>Income</h2>
            <div class="section-content">
                <div class="table-container">
                    <table id="incomeTable">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Description</th>
                                <th>Estimated</th>
                                <th>Actual</th>
                                <th>Difference</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="incomeTableBody"></tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2"><strong>Total</strong></td>
                                <td><strong id="totalIncomeEst">$0.00</strong></td>
                                <td><strong id="totalIncomeAct">$0.00</strong></td>
                                <td><strong id="totalIncomeDiff">$0.00</strong></td>
                                <td></td>
                            </tr>
                        </tfoot>
                    </table>
                    <button id="addIncomeBtn" class="btn btn-primary">+ Add Income</button>
                </div>
                <div class="chart-container">
                    <div class="chart-toggle">
                        <button class="toggle-btn active" data-chart="income" data-type="actual">Actual</button>
                        <button class="toggle-btn" data-chart="income" data-type="estimated">Estimated</button>
                    </div>
                    <canvas id="incomeChart"></canvas>
                </div>
            </div>
        </section>

        <section class="budget-section">
            <h2>Expenses</h2>
            <div class="section-content">
                <div class="table-container">
                    <table id="expenseTable">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Description</th>
                                <th>Estimated</th>
                                <th>Actual</th>
                                <th>Difference</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="expenseTableBody"></tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2"><strong>Total</strong></td>
                                <td><strong id="totalExpenseEst">$0.00</strong></td>
                                <td><strong id="totalExpenseAct">$0.00</strong></td>
                                <td><strong id="totalExpenseDiff">$0.00</strong></td>
                                <td></td>
                            </tr>
                        </tfoot>
                    </table>
                    <button id="addExpenseBtn" class="btn btn-primary">+ Add Expense</button>
                </div>
                <div class="chart-container">
                    <div class="chart-toggle">
                        <button class="toggle-btn active" data-chart="expense" data-type="actual">Actual</button>
                        <button class="toggle-btn" data-chart="expense" data-type="estimated">Estimated</button>
                    </div>
                    <canvas id="expenseChart"></canvas>
                </div>
            </div>
        </section>

        <section class="summary-section">
            <h2>12 Month Summary</h2>
            <div class="table-wrapper">
                <table id="summaryTable">
                    <thead>
                        <tr>
                            <th>Month</th>
                            <th colspan="3">Income</th>
                            <th colspan="3">Expenses</th>
                            <th colspan="3">Savings</th>
                        </tr>
                        <tr>
                            <th></th>
                            <th>Est.</th>
                            <th>Act.</th>
                            <th>Diff.</th>
                            <th>Est.</th>
                            <th>Act.</th>
                            <th>Diff.</th>
                            <th>Est.</th>
                            <th>Act.</th>
                            <th>Diff.</th>
                        </tr>
                    </thead>
                    <tbody id="summaryTableBody"></tbody>
                </table>
            </div>
            <div class="chart-container-large">
                <canvas id="yearChart"></canvas>
            </div>
        </section>
    </div>

    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button class="close-btn" id="closeSettings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <h3>Color Management</h3>
                    <div id="incomeColorsList" class="color-list">
                        <h4>Income Colors</h4>
                    </div>
                    <button id="randomizeIncomeColors" class="btn btn-secondary">üé® Randomize Income Colors</button>

                    <div id="expenseColorsList" class="color-list">
                        <h4>Expense Colors</h4>
                    </div>
                    <button id="randomizeExpenseColors" class="btn btn-secondary">üé® Randomize Expense Colors</button>
                </div>

                <div class="settings-group">
                    <h3>Data Management</h3>
                    <button id="exportDataBtn" class="btn btn-primary">üì§ Export Budget Data</button>
                    <button id="importDataBtn" class="btn btn-primary">üì• Import Budget Data</button>
                    <input type="file" id="importFileInput" accept=".json" style="display: none;">
                    <button id="resetDataBtn" class="btn btn-danger">üóëÔ∏è Reset All Data</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
